"use strict";(self.webpackChunkDogtor=self.webpackChunkDogtor||[]).push([[841],{5841:(z,u,r)=>{r.r(u),r.d(u,{CitaPreviaModule:()=>T});var d=r(6019),m=r(2979),p=r(1659),s=r.n(p),t=r(3556),a=r(7537),v=r(2935),h=r(2554),g=r(4522),Z=r(8260);let C=(()=>{class o{constructor(e){this.httpclient=e,this.baseUrl=Z.N.baseUrl}realizarCitaPrevia(e,n){const c=`${this.baseUrl}/user/cita/mascota/${n}`,l=e;let O=localStorage.getItem("token");const y=(new g.WM).set("Authorization",`Bearer ${O}`);return this.httpclient.post(c,l,{headers:y})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(g.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=r(9198);function P(o,i){if(1&o&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.s9C("value",e.chip),t.xp6(1),t.Oqu(e.nombre)}}let x=(()=>{class o{constructor(e,n,c,l){this.form=e,this.usuarioservice=n,this.servicioService=c,this.citaservice=l,this.mascotas=[],this.citaPrevia=this.form.group({fecha:[],mascota:[]})}mostrarMascotas(){this.usuarioservice.obtenerMascotasUsuario().subscribe({next:e=>{this.mascotas=e},error:e=>{s().fire("Error",e.error.message,"error")}})}realizarCita(){let n={fecha:this.citaPrevia.value.fecha.replace("T"," ")};this.citaservice.realizarCitaPrevia(n,this.citaPrevia.value.mascota).subscribe({next:c=>{this.citaPrevia.reset(),s().fire({title:"\xa1Su cita ha sido registrada satisfactoriamente!",icon:"success"})},error:c=>{console.log(c),s().fire("Error",c.error.mensaje,"error")}})}ngOnInit(){this.mostrarMascotas()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(v.i),t.Y36(h.H),t.Y36(C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pedircita"]],decls:37,vars:2,consts:[["info","CITA PREVIA"],[1,"formulariocita","container-fluid","row"],[1,"col-lg-6","col-md-12","col-sm-12","col-xs-12","mt-3"],["id","logintexto"],[1,"citaprevia",3,"formGroup","ngSubmit"],[1,"form-group"],["for","mascota",1,"text-white"],["aria-hidden","true",1,"fa","fa-paw"],["name","mascota","formControlName","mascota"],[3,"value",4,"ngFor","ngForOf"],["for","fecha",1,"text-white"],[1,"fa","fa-time"],["type","datetime-local","name","fecha","id","fecha","formControlName","fecha"],[1,"btn"],["type","submit",1,"button"],[1,"col-lg-6","col-md-12","col-sm-12","col-xs-12","divimg"],["src","./assets/img/veterinariopng.png","alt","imagen de una veterinaria atentiendo a un cachorro de labrador"],[3,"value"]],template:function(e,n){1&e&&(t._UZ(0,"app-ubicacion",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1",3),t.TgZ(4,"strong"),t._uU(5,"Cita Previa"),t.qZA(),t.qZA(),t.TgZ(6,"p"),t._uU(7,"\xbfNecesitas que atendamos a tu mascota?"),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Rellena los siguientes campos"),t.qZA(),t.TgZ(10,"form",4),t.NdJ("ngSubmit",function(){return n.realizarCita()}),t.TgZ(11,"div",5),t.TgZ(12,"label",6),t._UZ(13,"i",7),t.TgZ(14,"p"),t._uU(15,"Selecciona tu mascota:"),t.qZA(),t.qZA(),t._UZ(16,"br"),t._UZ(17,"br"),t.TgZ(18,"select",8),t.YNc(19,P,2,2,"option",9),t.qZA(),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"div",5),t.TgZ(22,"label",10),t._UZ(23,"i",11),t.TgZ(24,"p"),t._uU(25,"Selecciona una fecha"),t.qZA(),t.qZA(),t._UZ(26,"br"),t._UZ(27,"br"),t._UZ(28,"input",12),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"div",13),t.TgZ(31,"button",14),t._uU(32,"Pedir Cita"),t.qZA(),t.qZA(),t.qZA(),t._UZ(33,"br"),t._UZ(34,"br"),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"img",16),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("formGroup",n.citaPrevia),t.xp6(9),t.Q6J("ngForOf",n.mascotas))},directives:[b.D,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,d.sg,a.Fj,a.YN,a.Kr],styles:[".button[_ngcontent-%COMP%]{min-width:150px;min-height:50px;font-size:20px;letter-spacing:4px;font-weight:600;color:#fff;background:#858062;border:none;border-radius:8px;cursor:pointer;font-family:cocogose}.button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#44522b}img[_ngcontent-%COMP%]{margin-top:35%;width:150%}label[_ngcontent-%COMP%]{color:#d1d8c6}input[_ngcontent-%COMP%]{border-top:none;border-right:none;border-left:none;background-color:#cc9973;color:#fff;border-color:#fff}[_ngcontent-%COMP%]::placeholder{color:#fff}.formulariocita[_ngcontent-%COMP%]{width:60%;height:30%;margin:10px auto 90px;padding-top:10px;padding-bottom:10px;text-align:center;border-radius:20px;color:#fff;background-color:#e9bb97;background-size:cover}a[_ngcontent-%COMP%]{color:#582c0a;letter-spacing:3px;font-size:20px}.divimg[_ngcontent-%COMP%]{border-top-right-radius:20px;border-bottom-right-radius:20px}h1[_ngcontent-%COMP%]{font-size:50px;color:#253013}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{color:#253013}@media screen and (min-width: 300px) and (max-width: 698px){.formulariocita[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{margin-top:1%;width:100%}}"]}),o})();var f=r(516);const M=[{path:"",component:x,pathMatch:"full",canActivate:[f.x]}];let U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(M)]]}),o})();var A=r(513);let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[f.x],imports:[[d.ez,U,m.Bz,A.$,a.u5,a.UX]]}),o})()}}]);