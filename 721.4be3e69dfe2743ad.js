"use strict";(self.webpackChunkDogtor=self.webpackChunkDogtor||[]).push([[721],{4721:(y,s,i)=>{i.r(s),i.d(s,{QuieroSerSocioModule:()=>q});var u=i(6019),m=i(2979),n=i(7537),d=i(1659),c=i.n(d),o=i(3556),g=i(2935),p=i(8260),f=i(4753),Z=i(4522);let h=(()=>{class e{constructor(t){this.httpclient=t,this.baseUrl=p.N.baseUrl}comprobarEmail(t){return this.httpclient.get(`${this.baseUrl}/usuario/${t}`)}validate(t){return this.comprobarEmail(t.value).pipe((0,f.U)(l=>null!=l.email?{enUso:!0}:null))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Z.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(9198);function b(e,a){if(1&e&&(o.TgZ(0,"span",23),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Oqu(t.emailErrorMessage)}}function A(e,a){1&e&&(o.TgZ(0,"span",23),o._uU(1,"La contrase\xf1a debe tener entre 6 y 8 car\xe1cteres."),o.qZA())}function T(e,a){1&e&&(o.TgZ(0,"span",23),o._uU(1,"El nombre no es correcto."),o.qZA())}function C(e,a){1&e&&(o.TgZ(0,"span",23),o._uU(1,"Debe introducir dos apellidos"),o.qZA())}function x(e,a){1&e&&(o.TgZ(0,"span",23),o._uU(1,"El DNI no es v\xe1lido, debe tener el siguiente formato: 12345678A"),o.qZA())}function U(e,a){1&e&&(o.TgZ(0,"span",23),o._uU(1,"Debe introducir un n\xfamero de tel\xe9fono v\xe1lido: 699999999"),o.qZA())}const F=[{path:"",component:(()=>{class e{constructor(t,r,l,E){this.usuarioservice=t,this.form=r,this.router=l,this.emailservice=E,this.miFormulario=this.form.group({nombre:["",[n.kI.required,n.kI.pattern("^[A-Za-z ]+$")]],apellidos:["",[n.kI.required,n.kI.pattern("([a-zA-Z]+) ([a-zA-Z]+)")]],email:["",[n.kI.required,n.kI.pattern("^[^@]+@[^@]+.[a-zA-Z]{2,}$")],[this.emailservice]],contrasenia:["",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(8)]],telefono:["",[n.kI.required,n.kI.pattern("^[0-9,$]*$")]],dni:["",[n.kI.required,n.kI.pattern("[0-9]{8}[A-Za-z]{1}")]]})}hacerRegistro(){this.usuarioservice.registro(this.miFormulario.value).subscribe({next:r=>{this.miFormulario.reset(),c().fire({title:"\xa1Enhorabuena! Ya formas parte de nuestra manada :)",icon:"success",showCancelButton:!0,confirmButtonColor:"#999966",confirmButtonText:"Iniciar Sesi\xf3n"}).then(l=>{l.isConfirmed&&this.router.navigateByUrl("/areasocios")})},error:r=>{c().fire("Error",r.error.mensaje,"error")}})}ngOnInit(){this.miFormulario.reset()}campoNoValido(t){var r,l;return(null===(r=this.miFormulario.get(t))||void 0===r?void 0:r.invalid)&&(null===(l=this.miFormulario.get(t))||void 0===l?void 0:l.touched)}get emailErrorMessage(){var t;const r=null===(t=this.miFormulario.get("email"))||void 0===t?void 0:t.errors;return r.required?"Debe introducir un email":r.pattern?"El email no tiene un formato correcto":r.enUso?"El email ya se encuentra registrado, pruebe con otro":""}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(g.i),o.Y36(n.qu),o.Y36(m.F0),o.Y36(h))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-registro"]],decls:46,vars:8,consts:[["info","SER SOCIO"],[1,"formulariologin","container","row","mt-2","mb-2"],[1,"col-6","mt-3"],["id","logintexto"],["src","./assets/img/perrogato.png","alt","imagen de un perro y un gato"],[1,"col-6","mt-2"],[3,"formGroup","ngSubmit"],[1,"col-lg-12"],[1,"form-floating","mt-2"],["id","email","type","text","formControlName","email",1,"form-control"],["for","email",1,"text-dark"],["class","form-text text-danger",4,"ngIf"],["id","contrasenia","formControlName","contrasenia","type","password",1,"form-control"],["for","contrasenia",1,"text-dark"],["id","nombre","formControlName","nombre","type","text",1,"form-control"],["for","nombre",1,"text-dark"],["id","apellidos","formControlName","apellidos","type","text",1,"form-control"],["for","apellidos",1,"text-dark"],["id","dni","formControlName","dni","type","text",1,"form-control"],["for","dni",1,"text-dark"],["id","telefono","formControlName","telefono","type","text",1,"form-control"],["for","telefono",1,"text-dark"],["type","submit",1,"mt-3","mb-2","btn","text-white","text-center",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(o._UZ(0,"app-ubicacion",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1",3),o.TgZ(4,"strong"),o._uU(5,"Registro"),o.qZA(),o.qZA(),o.TgZ(6,"p"),o._uU(7,"\xbfQuieres ser socio de Dogtor?"),o.qZA(),o.TgZ(8,"p"),o._uU(9,"\xa1\xdanete!"),o.qZA(),o._UZ(10,"img",4),o.qZA(),o.TgZ(11,"div",5),o.TgZ(12,"form",6),o.NdJ("ngSubmit",function(){return r.hacerRegistro()}),o.TgZ(13,"div",7),o.TgZ(14,"div",8),o._UZ(15,"input",9),o.TgZ(16,"label",10),o._uU(17,"Email"),o.qZA(),o.YNc(18,b,2,1,"span",11),o.qZA(),o.TgZ(19,"div",8),o._UZ(20,"input",12),o.YNc(21,A,2,0,"span",11),o.TgZ(22,"label",13),o._uU(23,"Contrase\xf1a"),o.qZA(),o.qZA(),o.TgZ(24,"div",8),o._UZ(25,"input",14),o.YNc(26,T,2,0,"span",11),o.TgZ(27,"label",15),o._uU(28,"Nombre"),o.qZA(),o.qZA(),o.TgZ(29,"div",8),o._UZ(30,"input",16),o.YNc(31,C,2,0,"span",11),o.TgZ(32,"label",17),o._uU(33,"Apellidos"),o.qZA(),o.qZA(),o.TgZ(34,"div",8),o._UZ(35,"input",18),o.YNc(36,x,2,0,"span",11),o.TgZ(37,"label",19),o._uU(38,"DNI"),o.qZA(),o.qZA(),o.TgZ(39,"div",8),o._UZ(40,"input",20),o.YNc(41,U,2,0,"span",11),o.TgZ(42,"label",21),o._uU(43,"Tel\xe9fono"),o.qZA(),o.qZA(),o.TgZ(44,"button",22),o._uU(45,"REG\xcdSTRAME"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(12),o.Q6J("formGroup",r.miFormulario),o.xp6(6),o.Q6J("ngIf",r.campoNoValido("email")),o.xp6(3),o.Q6J("ngIf",r.miFormulario.controls.contrasenia.errors&&r.miFormulario.controls.contrasenia.touched),o.xp6(5),o.Q6J("ngIf",r.miFormulario.controls.nombre.errors&&r.miFormulario.controls.nombre.touched),o.xp6(5),o.Q6J("ngIf",r.miFormulario.controls.apellidos.errors&&r.miFormulario.controls.apellidos.touched),o.xp6(5),o.Q6J("ngIf",r.miFormulario.controls.dni.errors&&r.miFormulario.controls.dni.touched),o.xp6(5),o.Q6J("ngIf",r.miFormulario.controls.telefono.errors&&r.miFormulario.controls.telefono.touched),o.xp6(3),o.Q6J("disabled",r.miFormulario.invalid))},directives:[v.D,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,u.O5],styles:[".formulariologin[_ngcontent-%COMP%]{width:60%;margin:auto;text-align:center;border-radius:20px;color:#fff;background-size:cover;background-color:#fae4cf}input[_ngcontent-%COMP%]{border-top:none;border-right:none;border-left:none;background-color:#fae4cf;border-color:#5e5e34}#logintexto[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e5e34}button[_ngcontent-%COMP%]{background-color:#c98c47;border-color:#c98c47}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#44522b}span[_ngcontent-%COMP%]{font-size:13px}img[_ngcontent-%COMP%]{width:70%}@media screen and (min-width: 700px) and (max-width: 1200px){.formulariologin[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 300px) and (max-width: 698px){.formulariologin[_ngcontent-%COMP%]{width:100%}}"]}),e})(),pathMatch:"full"}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[m.Bz.forChild(F)]]}),e})();var S=i(513);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[u.ez,I,n.UX,S.$]]}),e})()}}]);